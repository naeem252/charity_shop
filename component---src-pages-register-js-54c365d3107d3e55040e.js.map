{"version":3,"sources":["webpack:///./src/pages/register.js"],"names":["Register","useState","contact","setContact","error","setError","success","setSuccess","handleChange","e","target","name","value","updatedContact","className","onSubmit","preventDefault","email","test","data","state","message","cname","number","position","fetch","method","headers","body","Object","keys","map","key","encodeURIComponent","join","then","_","setTimeout","catch","err","type","htmlFor","id","placeholder","onChange","disabled"],"mappings":"4OAKe,SAASA,IACtB,IADiC,EASHC,mBAAS,IAAhCC,EAT0B,KASjBC,EATiB,OAWPF,mBAAS,MAA5BG,EAX0B,KAWnBC,EAXmB,OAYHJ,mBAAS,MAAhCK,EAZ0B,KAYjBC,EAZiB,KA4D3BC,EAAe,SAACC,GAAO,IAAD,IACFA,EAAEC,OAAlBC,EADkB,EAClBA,KAAMC,EADY,EACZA,MAERC,EAAc,iBACfX,IADe,MAEjBS,GAAOC,EAFU,IAIpBT,EAAWU,IAGb,OACE,kBAAC,IAAD,KACE,yBAAKC,UAAU,eACb,yBAAKA,UAAU,sMAAf,iHAIA,yBAAKA,UAAU,0CACb,yBAAKA,UAAU,uGACb,6BACE,uBAAGA,UAAU,qFAAb,wHAIA,uBAAGA,UAAU,qFAAb,6IAKA,yBAAKA,UAAU,+BAAf,KAEA,6BACE,0BACEC,SAxEK,SAACN,GAKpB,GAJAA,EAAEO,iBACFX,EAAS,MATWY,EAYFf,EAAQe,OAXtB,gDAAgDC,KAAKD,GAYvD,OAAOZ,EAAS,oCAbC,IAACY,EAbNE,EA4BRC,EAAQ,CACZT,KAAMT,EAAQS,KACdM,MAAOf,EAAQe,MACfI,QAASnB,EAAQmB,QACjBC,MAAOpB,EAAQoB,MACfC,OAAQrB,EAAQqB,OAChBC,SAAUtB,EAAQsB,UAsBpB,OAnBAC,MAAM,IAAK,CACTC,OAAQ,OACRC,QAAS,CAAE,eAAgB,qCAC3BC,MAxCYT,EAwCC,OAAD,QAAG,YAAa,WAAcC,GAvCrCS,OAAOC,KAAKX,GAChBY,KACC,SAACC,GAAD,OAAYC,mBAAmBD,GAA/B,IAAuCC,mBAAmBd,EAAKa,OAEhEE,KAAK,QAqCLC,MAAK,SAACC,GACL7B,GAAW,GACXJ,EAAW,CACTQ,KAAM,GACNM,MAAO,GACPI,QAAS,GACTC,MAAO,GACPC,OAAQ,GACRC,SAAU,KAEZa,YAAW,kBAAM9B,GAAW,KAAQ,QAErC+B,OAAM,SAACC,GAAD,OAASlC,EAASkC,OAEpB,GAqCOzB,UAAU,mCACV,2BAAO0B,KAAK,SAAS7B,KAAK,YAAYC,MAAM,YAC5C,yBAAKE,UAAU,SACb,2BACEA,UAAU,6EACV2B,QAAQ,QAFV,cAKA,2BACE3B,UAAU,kLACV4B,GAAG,OACH/B,KAAK,OACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQS,KACfiC,SAAUpC,KAId,yBAAKM,UAAU,SACb,2BACEA,UAAU,8DACV2B,QAAQ,SAFV,iBAKA,2BACE3B,UAAU,kLACV4B,GAAG,QACH/B,KAAK,QACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQoB,MACfsB,SAAUpC,KAId,yBAAKM,UAAU,SACb,2BACEA,UAAU,8DACV2B,QAAQ,YAFV,yCAKA,2BACE3B,UAAU,kLACV4B,GAAG,WACH/B,KAAK,WACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQsB,SACfoB,SAAUpC,KAId,yBAAKM,UAAU,SACb,2BACEA,UAAU,8DACV2B,QAAQ,SAFV,UAKA,2BACE3B,UAAU,kLACV4B,GAAG,QACH/B,KAAK,QACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQe,MACf2B,SAAUpC,KAId,yBAAKM,UAAU,SACb,2BACEA,UAAU,8DACV2B,QAAQ,UAFV,kBAKA,2BACE3B,UAAU,kLACV4B,GAAG,SACH/B,KAAK,SACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQqB,OACfqB,SAAUpC,KAId,yBAAKM,UAAU,SACb,2BACEA,UAAU,8DACV2B,QAAQ,WAFV,gCAKA,8BACE3B,UAAU,kLACV4B,GAAG,UACH/B,KAAK,UACL6B,KAAK,OACLG,YAAY,GACZ/B,MAAOV,EAAQmB,QACfuB,SAAUpC,KAGd,yBAAKM,UAAU,8BACZV,EACC,uBAAGU,UAAU,8BAA8BV,GAE3C,uBAAGU,UAAU,iDAAb,MAKJ,yBAAKA,UAAU,8BACZR,EACC,4BACEQ,UAAU,8IACV0B,KAAK,SACLK,UAAQ,GAHV,aAOA,4BACE/B,UAAU,0IACV0B,KAAK,UAFP","file":"component---src-pages-register-js-54c365d3107d3e55040e.js","sourcesContent":["/* eslint-disable no-useless-escape */\nimport React, { useState } from 'react';\n\nimport Layout from '~/components/Layout';\n\nexport default function Register() {\n  const encode = (data) => {\n    return Object.keys(data)\n      .map(\n        (key) => `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}`,\n      )\n      .join('&');\n  };\n\n  const [contact, setContact] = useState({});\n\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  const isValidEmail = (email) => {\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n      return true;\n    }\n    return false;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setError(null);\n    // Validate email\n\n    if (!isValidEmail(contact.email))\n      return setError('Please use a valid email address');\n\n    const state = {\n      name: contact.name,\n      email: contact.email,\n      message: contact.message,\n      cname: contact.cname,\n      number: contact.number,\n      position: contact.position,\n    };\n\n    fetch('/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      body: encode({ 'form-name': 'contact', ...state }),\n    })\n      .then((_) => {\n        setSuccess(true);\n        setContact({\n          name: '',\n          email: '',\n          message: '',\n          cname: '',\n          number: '',\n          position: '',\n        });\n        setTimeout(() => setSuccess(false), 3000);\n      })\n      .catch((err) => setError(err));\n\n    return true;\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    const updatedContact = {\n      ...contact,\n      [name]: value,\n    };\n    setContact(updatedContact);\n  };\n\n  return (\n    <Layout>\n      <div className=\"bg-new-navy\">\n        <div className=\"max-w-screen-sm px-8 pt-12 pb-20 mx-auto mb-2 text-lg font-medium leading-normal tracking-wide text-center text-white font-header sm:text-4xl sm:px-0 sm:max-w-screen-md sm:mb-4 sm:pt-20 sm:pb-32\">\n          By selling books & DVDs on a subscription basis we give charity shops\n          a simple way to earn recurring revenue.\n        </div>\n        <div className=\"flex flex-col items-center bg-gray-100\">\n          <div className=\"w-11/12 max-w-4xl px-4 py-12 mx-auto mb-40 -mt-10 bg-white rounded-lg shadow-2xl sm:-mt-20 sm:px-20\">\n            <div>\n              <p className=\"mt-4 text-xs font-medium leading-normal text-gray-600 sm:text-xl sm:font-semibold\">\n                Our website takes the orders, we collect the payments, and then\n                we pay you every time you send items to subscribers.\n              </p>\n              <p className=\"mt-4 text-xs font-medium leading-normal text-gray-600 sm:text-xl sm:font-semibold\">\n                There is no cost to join, just a commitment to delighting a new\n                channel of customers! Enquire below and we&apos;ll get back to\n                you right away.\n              </p>\n              <div className=\"h-px mt-8 mb-10 bg-gray-400\"> </div>\n\n              <div>\n                <form\n                  onSubmit={handleSubmit}\n                  className=\"w-11/12 pt-6 pb-8 mx-auto mb-4 \">\n                  <input type=\"hidden\" name=\"form-name\" value=\"contact\" />\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-medium text-gray-600 sm:text-base sm:font-semibold\"\n                      htmlFor=\"name\">\n                      Your name:\n                    </label>\n                    <input\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"name\"\n                      name=\"name\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.name}\n                      onChange={handleChange}\n                    />\n                  </div>\n\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-semibold text-gray-600 sm:text-base\"\n                      htmlFor=\"cname\">\n                      Your charity:\n                    </label>\n                    <input\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"cname\"\n                      name=\"cname\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.cname}\n                      onChange={handleChange}\n                    />\n                  </div>\n\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-semibold text-gray-600 sm:text-base\"\n                      htmlFor=\"position\">\n                      Your responsibilities at the charity:\n                    </label>\n                    <input\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"position\"\n                      name=\"position\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.position}\n                      onChange={handleChange}\n                    />\n                  </div>\n\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-semibold text-gray-600 sm:text-base\"\n                      htmlFor=\"email\">\n                      Email:\n                    </label>\n                    <input\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"email\"\n                      name=\"email\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.email}\n                      onChange={handleChange}\n                    />\n                  </div>\n\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-semibold text-gray-600 sm:text-base\"\n                      htmlFor=\"number\">\n                      Mobile number:\n                    </label>\n                    <input\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"number\"\n                      name=\"number\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.number}\n                      onChange={handleChange}\n                    />\n                  </div>\n\n                  <div className=\"mb-12\">\n                    <label\n                      className=\"block mb-4 text-sm font-semibold text-gray-600 sm:text-base\"\n                      htmlFor=\"message\">\n                      Anything else we should know\n                    </label>\n                    <textarea\n                      className=\"w-full px-3 py-3 text-sm leading-tight text-gray-700 border border-gray-300 rounded appearance-none sm:text-base tracking-loose sm:py-4 focus:outline-none focus:shadow-outline\"\n                      id=\"message\"\n                      name=\"message\"\n                      type=\"text\"\n                      placeholder=\"\"\n                      value={contact.message}\n                      onChange={handleChange}\n                    />\n                  </div>\n                  <div className=\"flex flex-col items-center\">\n                    {error ? (\n                      <p className=\"font-semibold text-red-500\">{error}</p>\n                    ) : (\n                      <p className=\"font-semibold text-transparent cursor-default\">\n                        &nbsp;\n                      </p>\n                    )}\n                  </div>\n                  <div className=\"flex flex-col items-center\">\n                    {success ? (\n                      <button\n                        className=\"px-20 py-3 mt-6 font-medium text-white bg-green-700 rounded-full hover:bg-green-800 text-md sm:mt-8 focus:outline-none focus:shadow-outline\"\n                        type=\"submit\"\n                        disabled>\n                        Thank you\n                      </button>\n                    ) : (\n                      <button\n                        className=\"px-20 py-3 mt-6 font-medium text-white bg-red-700 rounded-full hover:bg-red-800 text-md sm:mt-8 focus:outline-none focus:shadow-outline\"\n                        type=\"submit\">\n                        Submit\n                      </button>\n                    )}\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"sourceRoot":""}